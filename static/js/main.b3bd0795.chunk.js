(this["webpackJsonprecipe-slicer"]=this["webpackJsonprecipe-slicer"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a,r,i,s=n(0),c=n(1),l=n.n(c),o=n(8),u=n.n(o),d=(n(16),n(10)),b=n(2),m=n(6),j=n(7);function g(e){var t=e.ingredients.map((function(e){if(void 0!==(n=e).type&&n.type===a.IngredientVolume)return new E((t=e).unit,t.amount,t.density,t.name);var t,n,r;if(function(e){return void 0!==e.type&&e.type===a.IngredientWeight}(e))return new U((r=e).unit,r.amount,r.name);throw new Error("Unexpected ingredient type")}));return{type:a.RecipeV1,name:e.name,ingredients:t,method:e.method}}!function(e){e.IngredientWeight="IngredientWeight",e.IngredientVolume="IngredientVolume",e.RecipeV1="RecipeV1"}(a||(a={})),function(e){e.Milliliter="Milliliter",e["Pint (US)"]="Pint (US)",e["Cup (US)"]="Cup (US)",e["Fluid Ounce (US)"]="Fluid Ounce (US)",e["Tablespoon (US)"]="Tablespoon (US)",e["Teaspoon (US)"]="Teaspoon (US)",e["Pint (Imperial)"]="Pint (Imperial)",e["Cup (Imperial)"]="Cup (Imperial)",e["Fluid Ounce (Imperial)"]="Fluid Ounce (Imperial)",e["Tablespoon (Imperial)"]="Tablespoon (Imperial)",e["Teaspoon (Imperial)"]="Teaspoon (Imperial)"}(r||(r={})),function(e){e.custom="custom",e["baking powder"]="baking powder",e["baking soda"]="baking soda",e.salt="salt",e.yeast="yeast",e.sugar="sugar",e["all purpose flour"]="all purpose flour",e["bread flour"]="bread flour",e["whole wheat flour"]="whole wheat flour",e.water="water",e.butter="butter",e.milk="milk",e["cocoa powder"]="cocoa powder",e.yogurt="yogurt"}(i||(i={}));var h,p=473.176,O=240,v=29.5735,f=14.7868,x=4.92892,w=568.261,k=284.131,y=28.4131,N=17.7582,S=5.91939,I=new Map([["baking powder",.9],["baking soda",.689],["salt",1.201],["yeast",.95],["sugar",.849],["all purpose flour",.529],["bread flour",.55],["whole wheat flour",.471],["water",1],["butter",.959],["milk",1.035],["cocoa powder",.641],["yogurt",1.06]]),E=function(){function e(t,n,r,i){Object(m.a)(this,e),this.type=void 0,this.unit=void 0,this.amount=void 0,this.density=void 0,this.name=void 0,this.type=a.IngredientVolume,this.unit=t,this.amount=n,this.density=r,this.name=i}return Object(j.a)(e,[{key:"scale",value:function(e){return this.amount=this.amount*e,this}},{key:"cloneToGrams",value:function(){var e=0;switch(this.unit){case r.Milliliter:e=this.amount;break;case r["Pint (US)"]:e=this.amount*p;break;case r["Cup (US)"]:e=this.amount*O;break;case r["Fluid Ounce (US)"]:e=this.amount*v;break;case r["Tablespoon (US)"]:e=this.amount*f;break;case r["Teaspoon (US)"]:e=this.amount*x;break;case r["Pint (Imperial)"]:e=this.amount*w;break;case r["Cup (Imperial)"]:e=this.amount*k;break;case r["Fluid Ounce (Imperial)"]:e=this.amount*y;break;case r["Tablespoon (Imperial)"]:e=this.amount*N;break;case r["Teaspoon (Imperial)"]:e=this.amount*S}var t=e*this.density;return new U(h.Grams,t,this.name)}},{key:"describe",value:function(){return{amount:this.amount,units:"".concat(this.unit," at ").concat(this.density," Grams per Milliliter")}}}]),e}();!function(e){e.Grams="Grams",e.Ounces="Ounces",e["Eggs (XL Europe)"]="Eggs (XL Europe)",e["Eggs (Large Europe)"]="Eggs (Large Europe)",e["Eggs (Medium Europe)"]="Eggs (Medium Europe)",e["Eggs (Jumbo USA)"]="Eggs (Jumbo USA)",e["Eggs (XL USA)"]="Eggs (XL USA)",e["Eggs (Large USA)"]="Eggs (Large USA)",e["Eggs (Medium USA)"]="Eggs (Medium USA)",e["Eggs (Small USA)"]="Eggs (Small USA)",e["Eggs (Peewee USA)"]="Eggs (Peewee USA)"}(h||(h={}));var U=function(){function e(t,n,r){Object(m.a)(this,e),this.unit=void 0,this.amount=void 0,this.type=void 0,this.name=void 0,this.type=a.IngredientWeight,this.unit=t,this.amount=n,this.name=r}return Object(j.a)(e,[{key:"scale",value:function(e){return this.amount=this.amount*e,this}},{key:"cloneToGrams",value:function(){var t=0;switch(this.unit){case h.Grams:t=this.amount;break;case h.Ounces:t=28.3495*this.amount;break;case h["Eggs (XL Europe)"]:t=73*this.amount;break;case h["Eggs (Large Europe)"]:t=63*this.amount;break;case h["Eggs (Medium Europe)"]:t=53*this.amount;break;case h["Eggs (Jumbo USA)"]:t=70.9*this.amount;break;case h["Eggs (XL USA)"]:t=63.8*this.amount;break;case h["Eggs (Large USA)"]:t=56.7*this.amount;break;case h["Eggs (Medium USA)"]:t=49.6*this.amount;break;case h["Eggs (Small USA)"]:t=42.5*this.amount;break;case h["Eggs (Peewee USA)"]:t=35.4*this.amount}return new e(h.Grams,t,this.name)}},{key:"describe",value:function(){return{amount:this.amount,units:this.unit}}}]),e}(),C=n(9);function A(e){var t=Object(c.useState)(L()),n=Object(b.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){var e=function(){console.log("storage event fired, reloading saved recipe"),r(L())};return console.log("set event listener on storage events"),window.addEventListener("storage",e),function(){console.log("remove event listener on storage events"),window.removeEventListener("storage",e)}}),[]);var i=Object(c.useState)(a[0]),l=Object(b.a)(i,2),o=l[0],u=l[1];if(Object(c.useEffect)((function(){u(a[0])}),[a]),0===a.length)return null;var d,m=[],j=Object(C.a)(a);try{for(j.s();!(d=j.n()).done;){var h=d.value;m.push(Object(s.jsx)("option",{value:h,children:h},h))}}catch(p){j.e(p)}finally{j.f()}return Object(s.jsxs)(s.Fragment,{children:["Saved recipes:",Object(s.jsx)("select",{className:"form-select",onChange:function(e){u(e.target.value)},value:o,"aria-label":"Existing recipes",children:m}),Object(s.jsx)("button",{className:"btn btn-primary mt-2",onClick:function(){e.recipeLoadedCallback(function(e){var t=localStorage.getItem("saved-recipe:".concat(e));if(null===t)throw new Error("Cannot load recipe:"+e);return g(JSON.parse(t))}(o))},children:"Load"}),Object(s.jsx)("button",{className:"btn btn-danger mt-2 mx-2",onClick:function(){var e;e=o,localStorage.removeItem("saved-recipe:".concat(e)),window.dispatchEvent(new Event("storage"))},children:"Delete"})]})}function F(e){var t=Object(c.useState)(e.name?e.name:""),n=Object(b.a)(t,2),r=n[0],i=n[1];if(Object(c.useEffect)((function(){i(e.name?e.name:"")}),[e.name]),0===e.ingredients.length)return Object(s.jsx)("p",{className:"pt-3",children:"Add some ingredients \u2b07\ufe0f to save your recipe"});var l=function(){var t,n,i;!function(e){localStorage.setItem("saved-recipe:".concat(e.name),JSON.stringify(e)),window.dispatchEvent(new Event("storage"))}((t=r,n=e.ingredients,i=[],{type:a.RecipeV1,name:t,ingredients:n,method:i}))};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"my-2",children:[Object(s.jsx)("label",{htmlFor:"SaveRecipeName",className:"form-label",children:"Current recipe name:"}),Object(s.jsx)("input",{value:r,onChange:function(e){return i(e.target.value)},type:"text",className:"form-control",id:"SaveRecipeName",placeholder:"recipe name here..."})]}),Object(s.jsx)("button",{className:"btn btn-success",onClick:function(){l()},children:"Save Recipe"})]})}function T(e){var t=Object(c.useState)(""),n=Object(b.a)(t,2),a=n[0],r=n[1];return Object(s.jsxs)("div",{className:"border border-3 border-dark bg-light p-3 my-2",children:[Object(s.jsx)("h2",{children:"Save and load recipes"}),Object(s.jsx)(A,{recipeLoadedCallback:function(t){r(t.name),e.recipeLoadedCallback(t)}}),Object(s.jsx)(F,{ingredients:e.ingredients,name:a})]})}function L(){var e=[];for(var t in localStorage)t.startsWith("saved-recipe:")&&e.push(t.slice(13));return e}function V(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{children:"Recipe Slicer"}),Object(s.jsx)("h4",{children:"Convert recipes into grams and scale the total mix weight"}),Object(s.jsx)("label",{children:"i.e. enter a giant cake mix in cups and fluid ounces, get out a recipe in grams that you can scale down to a cupcake size"}),Object(s.jsx)("br",{}),Object(s.jsx)(T,{ingredients:n,recipeLoadedCallback:function(e){a(e.ingredients)},method:[]}),Object(s.jsxs)("div",{className:"border border-3 border-dark bg-light p-3 my-2",children:[Object(s.jsx)("h2",{children:"Add new ingredient"}),Object(s.jsx)(P,{AddIngredientCallback:function(e){a(n.concat(e))}})]})]}),i=Object(s.jsxs)("div",{className:"border border-3 border-dark bg-light p-3 my-2 text-center",children:[Object(s.jsx)("h2",{children:"Feedback"}),Object(s.jsxs)("h4",{children:["Like the tool? Have a feature or change suggestion? Found a bug?",Object(s.jsx)("br",{}),"Get in touch, I'd love to hear more: ",Object(s.jsx)("a",{href:"mailto:charlie@immaterium.ltd",children:"charlie@immaterium.ltd"})]})]});return 0===n.length?Object(s.jsxs)(s.Fragment,{children:[r,i]}):Object(s.jsxs)(s.Fragment,{children:[r,Object(s.jsxs)("div",{className:"border border-3 border-dark bg-light p-3 my-2",children:[Object(s.jsx)("h2",{children:"Original Ingredient Measurements"}),Object(s.jsx)(q,{ingredients:n,deletionCallback:function(e){var t=Object(d.a)(n);t.splice(e,1),a(t)}})]}),Object(s.jsxs)("div",{className:"border border-3 border-dark bg-light p-3 my-2",children:[Object(s.jsx)("h2",{children:"Ingredient amounts in Grams"}),Object(s.jsx)(J,{ingredients:n.map((function(e){return e.cloneToGrams()}))})]}),Object(s.jsxs)("div",{className:"border border-3 border-dark bg-light p-3 my-2",children:[Object(s.jsx)("h2",{children:"Scaled Ingredients"}),Object(s.jsx)(D,{ingredients:n})]}),i]})}function G(e){var t=Object(c.useState)(""),n=Object(b.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(h.Grams),l=Object(b.a)(i,2),o=l[0],u=l[1],d=Object(c.useState)(1),m=Object(b.a)(d,2),j=m[0],g=m[1],p=[];for(var O in h)p.push(Object(s.jsx)("option",{value:O,children:O},O));return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"my-2",children:[Object(s.jsx)("label",{htmlFor:"newIngredientName",className:"form-label",children:"Ingredient name:"}),Object(s.jsx)("input",{value:a,onChange:function(e){return r(e.target.value)},type:"text",className:"form-control",id:"newIngredientName",placeholder:"e.g. flour, butter, salt...",required:!0})]}),Object(s.jsxs)("div",{className:"mb-2",children:[Object(s.jsx)("label",{htmlFor:"newIngredientUnit",className:"form-label",children:"Unit of weight:"}),Object(s.jsx)("select",{value:o,onChange:function(e){return u(e.target.value)},id:"newIngredientUnit",className:"form-select",children:p})]}),Object(s.jsxs)("div",{className:"mb-3",children:[Object(s.jsx)("label",{htmlFor:"newIngredientAmount",className:"form-label",children:"Amount:"}),Object(s.jsx)("input",{value:j,onChange:function(e){return g(+e.target.value)},type:"number",min:"0",className:"form-control",id:"newIngredientAmount",placeholder:"e.g. 2.5, 100...",step:"0.1",required:!0})]}),Object(s.jsx)("button",{className:"btn btn-success",onClick:function(){e.AddIngredientCallback(new U(o,j,a))},disabled:!(""!==a&&j>0),children:"add ingredient"})]})}function M(e){var t=Object(c.useState)(""),n=Object(b.a)(t,2),a=n[0],l=n[1],o=Object(c.useState)(r.Milliliter),u=Object(b.a)(o,2),d=u[0],m=u[1],j=Object(c.useState)(1),g=Object(b.a)(j,2),h=g[0],p=g[1],O=Object(c.useState)(i.custom),v=Object(b.a)(O,2),f=v[0],x=v[1],w=Object(c.useState)(1),k=Object(b.a)(w,2),y=k[0],N=k[1],S=[];for(var U in r)S.push(Object(s.jsx)("option",{value:U,children:U},U));var C=[];for(var A in i)C.push(Object(s.jsx)("option",{value:A,children:A},A));return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"my-2",children:[Object(s.jsx)("label",{htmlFor:"newVolumeIngredientName",className:"form-label",children:"Ingredient name:"}),Object(s.jsx)("input",{value:a,onChange:function(e){return l(e.target.value)},type:"text",className:"form-control",id:"newVolumeIngredientName",placeholder:"e.g. milk, baking powder, salt...",required:!0})]}),Object(s.jsxs)("div",{className:"mb-2",children:[Object(s.jsx)("label",{htmlFor:"newVolumeIngredientUnit",className:"form-label",children:"Unit of volume:"}),Object(s.jsx)("select",{value:d,onChange:function(e){return m(e.target.value)},id:"newVolumeIngredientUnit",className:"form-select",children:S})]}),Object(s.jsxs)("div",{className:"mb-3",children:[Object(s.jsx)("label",{htmlFor:"newVolumeIngredientAmount",className:"form-label",children:"Amount:"}),Object(s.jsx)("input",{value:h,onChange:function(e){return p(+e.target.value)},type:"number",min:"0",className:"form-control",id:"newVolumeIngredientAmount",placeholder:"e.g. 2.5, 100...",step:"0.1",required:!0})]}),Object(s.jsxs)("div",{className:"mb-2",children:[Object(s.jsx)("label",{htmlFor:"newVolumeIngredientFoodType",className:"form-label",children:"Type of food (used for density):"}),Object(s.jsx)("select",{value:f,onChange:function(e){x(e.target.value),"custom"!==e.target.value&&N(I.get(e.target.value)||1)},id:"newVolumeIngredientFoodType",className:"form-select",children:C})]}),Object(s.jsxs)("div",{className:"mb-3",children:[Object(s.jsx)("label",{htmlFor:"newVolumeIngredientDensity",className:"form-label",children:"Density (Grams per Milliliter):"}),Object(s.jsx)("input",{disabled:"custom"!==f,value:y,onChange:function(e){return N(+e.target.value)},type:"number",min:"0",className:"form-control",id:"newVolumeIngredientDensity",placeholder:"e.g. 2.5, 100...",step:"0.1",required:!0}),Object(s.jsx)("div",{id:"newVolumeIngredientDensity",className:"form-text",children:'Set "Type of food" to custom to manually edit this amount'})]}),Object(s.jsx)("button",{className:"btn btn-success",onClick:function(){e.AddIngredientCallback(new E(d,h,y,a))},disabled:!(""!==a&&h>0),children:"add ingredient"})]})}function P(e){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist",children:[Object(s.jsx)("li",{className:"nav-item",role:"presentation",children:Object(s.jsxs)("a",{className:"nav-link active",id:"weight-tab","data-bs-toggle":"tab",href:"#weight",role:"tab","aria-controls":"weight","aria-selected":"true",children:[Object(s.jsx)("b",{children:"Add Weight"}),Object(s.jsx)("br",{}),"e.g. grams",Object(s.jsx)("br",{}),"or eggs"]})}),Object(s.jsx)("li",{className:"nav-item",role:"presentation",children:Object(s.jsxs)("a",{className:"nav-link",id:"volume-tab","data-bs-toggle":"tab",href:"#volume",role:"tab","aria-controls":"volume","aria-selected":"false",children:[Object(s.jsx)("b",{children:"Add Volume"}),Object(s.jsx)("br",{}),"e.g. cups or",Object(s.jsx)("br",{}),"fluid ounces"]})})]}),Object(s.jsxs)("div",{className:"tab-content",id:"myTabContent",children:[Object(s.jsx)("div",{className:"tab-pane fade show active",id:"weight",role:"tabpanel","aria-labelledby":"weight-tab",children:Object(s.jsx)(G,{AddIngredientCallback:e.AddIngredientCallback})}),Object(s.jsx)("div",{className:"tab-pane fade",id:"volume",role:"tabpanel","aria-labelledby":"volume-tab",children:Object(s.jsx)(M,{AddIngredientCallback:e.AddIngredientCallback})})]})]})}function R(e){var t=e.describe(),n=t.amount,a=t.units;return"".concat(e.name," = ").concat(n," (").concat(a,")")}function J(e){return Object(s.jsx)("ul",{children:e.ingredients.map((function(e,t){return Object(s.jsx)("li",{children:R(e)},t)}))})}function q(e){return Object(s.jsx)("ul",{children:e.ingredients.map((function(t,n){return Object(s.jsxs)("li",{className:"mb-1",children:[R(t)," ",Object(s.jsx)("button",{className:"btn btn-sm btn-danger",onClick:function(){e.deletionCallback(n)},children:"remove"})]},n)}))})}function D(e){var t=Object(c.useState)(100),n=Object(b.a)(t,2),a=n[0],r=n[1];if(0===e.ingredients.length)return Object(s.jsx)(s.Fragment,{});var i=e.ingredients.map((function(e){return e.cloneToGrams()})).reduce((function(e,t){return e+t.describe().amount}),0),l=a/i,o=e.ingredients.map((function(e){return e.cloneToGrams().scale(l)}));return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("p",{children:["Unaltered total weight (g): ",i]}),Object(s.jsxs)("div",{className:"mb-2",children:[Object(s.jsx)("label",{htmlFor:"desiredAmountInput",className:"form-label",children:"Desired total weight (g):"}),Object(s.jsx)("input",{value:a,onChange:function(e){return r(+e.target.value)},type:"number",className:"form-control",id:"desiredAmountInput",min:"0.1",step:"0.1",required:!0})]}),Object(s.jsx)("h4",{children:"Adjusted ingredients:"}),Object(s.jsx)(J,{ingredients:o})]})}var W=function(){return Object(s.jsx)("div",{className:"container py-4",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-12",children:Object(s.jsx)(V,{})})})})};u.a.render(Object(s.jsx)(l.a.StrictMode,{children:Object(s.jsx)(W,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.b3bd0795.chunk.js.map